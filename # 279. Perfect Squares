class Solution {
	Map<Integer, Integer> map = new HashMap<>();
	int i = 1;
	public int numSquares(int n) {
		for (; i * i <= n; i++) {
			map.put(i*i, 1);
		}
		if (i * i == n) {
			return 1;
		}
		else {
			return rec(n);			
		}
	}

	private int rec(int n) {
		if (n == 0) {
			return 0;
		}
		if (map.containsKey(n)) {
			return map.get(n);
		}
		int ans = n, t = i;
		for (; t > 0; t--) {
			if (t * t <= n) {
				ans = Math.min(ans, 1 + rec(n - t * t));				
			}

		}
		map.put(n, ans);
		return ans;
	}
}
