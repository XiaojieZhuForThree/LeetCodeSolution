package problems;

public class Question1074 {
	class Solution {
		public int numSubmatrixSumTarget(int[][] matrix, int target) {
			int m = matrix.length, n = matrix[0].length;
			int[][] dp = new int[m][n];
			int ans = 0;
			for (int i = 0; i < m; i++) {
				for (int j = 0; j < n; j++) {
					for (int x = i; x >= 0; x--) {
						int rowSum = 0;
						for (int y = j; y >= 0; y--) {
							rowSum += matrix[x][y];
							int sum = 0;
							if (x < i) {
								sum = rowSum + dp[x + 1][y];
							} else {
								sum = rowSum;
							}
							if (sum == target) {
								ans++;
							}
							dp[x][y] = sum;
						}
					}
				}
			}
			return ans;
		}
	}
}
