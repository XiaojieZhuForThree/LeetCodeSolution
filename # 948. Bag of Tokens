package com.leetcode.problems;

import java.util.Arrays;

public class Question948 {
	class Solution {
		public int bagOfTokensScore(int[] tokens, int P) {
			if (tokens == null || tokens.length == 0 || P == 0) {
				return 0;
			}
			Arrays.sort(tokens);
			int left = 0, right = tokens.length - 1;
			int score = 0;
			while (left < right) {
				if (P >= tokens[left]) {
					P -= tokens[left++];
					score++;
				} else if (score > 0 && tokens[right] >= tokens[left]) {
					score--;
					P += tokens[right--];
				} else {
					break;
				}
			}
			if (P >= tokens[left]) {
				score++;
			}
			return score;
		}
	}
}
