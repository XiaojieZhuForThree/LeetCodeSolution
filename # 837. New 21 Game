package com.leetcode.problems;

public class Question837 {
	class Solution {
		public double new21Game(int n, int k, int maxPts) {
			if (n >= k - 1 + maxPts)
				return 1.0;
			double[] dp = new double[k + maxPts];
			for (int i = n + 1; i < k + maxPts; i++)
				dp[i] = 0.0;
			for (int i = k; i <= n; i++)
				dp[i] = 1.0;
			if (k > 0) {
				dp[k - 1] = (n - k + 1) * 1.0 / maxPts;
			}
			for (int i = k - 2; i >= 0; i--) {
				dp[i] = (dp[i + 1] * (1 + maxPts) / maxPts) - (dp[i + maxPts + 1] / maxPts);
			}
			return dp[0];
		}
	}
}
