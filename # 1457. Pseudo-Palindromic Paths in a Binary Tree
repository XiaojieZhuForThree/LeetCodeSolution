package com.leetcode.problems;

import com.leetcode.api.TreeNode;

public class Question1457 {
	class Solution {
		int ans = 0;

		public int pseudoPalindromicPaths(TreeNode root) {
			int[] container = new int[10];
			dfs(root, container);
			return ans;
		}

		private void dfs(TreeNode node, int[] container) {
			if (node == null) {
				return;
			}
			if (node.left == null && node.right == null) {
				container[node.val]++;
				if (isValid(container)) {
					ans++;
				}
				container[node.val]--;
				return;
			} else {
				container[node.val]++;
				dfs(node.left, container);
				dfs(node.right, container);
				container[node.val]--;
			}
		}

		private boolean isValid(int[] container) {
			int odd = 0;
			for (int i : container) {
				if (i % 2 == 1) {
					odd++;
				}
			}
			return odd <= 1;
		}
	}
}
