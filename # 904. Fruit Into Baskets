class Solution {
    public int totalFruit(int[] tree) {
        int ans = 0, a = Integer.MAX_VALUE, b = Integer.MAX_VALUE, count_b = 0, cur = 0;
        for (int f : tree) {
            if (f == a || f == b){
                cur++;
            }
            else {
                cur = count_b + 1;
            }
            if (f == b){
                count_b ++;
            }
            else {
                count_b = 1;
                a = b;
                b = f;
            }
            ans = Math.max(ans, cur);
        }
        return ans;
    }
}
