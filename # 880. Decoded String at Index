public class Question880 {
	class Solution {
		public String decodeAtIndex(String S, int K) {
			long curLen = 0;
			char c = '@';
			for (int i = 0; i < S.length(); i++) {
				c = S.charAt(i);
				if (Character.isDigit(c)) {
					curLen *= c - '0';
				} else {
					curLen++;
				}
			}
			for (int i = S.length() - 1; i >= 0; i--) {
				c = S.charAt(i);
				if (Character.isDigit(c)) {
					curLen /= c - '0';
					K %= curLen;
				} else if (K == 0 || K == curLen) {
					return Character.toString(c);
				} else {
					curLen--;
				}
			}
			return "";
		}
	}
}
