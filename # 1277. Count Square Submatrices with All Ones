package com.leetcode.problems;

public class Question1277 {
	class Solution {
		public int countSquares(int[][] matrix) {
			int m = matrix.length, n = matrix[0].length;
			int ans = 0;
			for (int i = 0; i < m; i++) {
				for (int j = 0; j < n; j++) {
					if (matrix[i][j] == 1) {
						ans++;
						int l = j > 0 ? matrix[i][j - 1] : 0;
						int u = i > 0 ? matrix[i - 1][j] : 0;
						int d = i > 0 && j > 0 ? matrix[i - 1][j - 1] : 0;
						int len = Math.min(l, Math.min(u, d));
						ans += len;
						matrix[i][j] += len;
					}
				}
			}
			return ans;
		}
	}
}
